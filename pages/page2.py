import streamlit as st
import pandas as pd

st.title("ğŸ“‚ í•™ìƒ ì„±ì  ë¶„ì„ ë° ì‹œê°í™”")  # í˜ì´ì§€ ì œëª©

# íŒŒì¼ ì—…ë¡œë“œ ìœ„ì ¯
uploaded_file = st.file_uploader("í•™ìƒ ì„±ì  CSV íŒŒì¼ì„ ì—…ë¡œë“œí•˜ì„¸ìš”", type=["csv"])

if uploaded_file is not None:
    # CSV íŒŒì¼ì„ ë°ì´í„°í”„ë ˆì„ìœ¼ë¡œ ì½ê¸°
    df = pd.read_csv(uploaded_file)
    st.success("íŒŒì¼ ì—…ë¡œë“œ ì„±ê³µ!")  # ì„±ê³µ ë©”ì‹œì§€

    # ë°ì´í„°í”„ë ˆì„ ë¯¸ë¦¬ë³´ê¸°
    st.subheader("ë°ì´í„° ë¯¸ë¦¬ë³´ê¸°")
    st.dataframe(df)

    # í•™ìƒë³„ ê³¼ëª© í‰ê·  ê³„ì‚° (ì´ë¦„, ìˆ˜í•™, ì˜ì–´, ê³¼í•™ ì»¬ëŸ¼ì´ ìˆë‹¤ê³  ê°€ì •)
    required_columns = {'ì´ë¦„', 'ìˆ˜í•™', 'ì˜ì–´', 'ê³¼í•™'}
    if required_columns.issubset(df.columns):
        # ê³¼ëª© í‰ê·  ê³„ì‚°
        df['í‰ê· '] = df[['ìˆ˜í•™', 'ì˜ì–´', 'ê³¼í•™']].mean(axis=1)

        st.subheader("í•™ìƒë³„ ê³¼ëª© í‰ê· ")
        st.bar_chart(df.set_index('ì´ë¦„')['í‰ê· '])  # í•™ìƒë³„ í‰ê·  ì‹œê°í™”

        st.info("í•™ìƒë³„ ê³¼ëª© í‰ê· ì„ ë§‰ëŒ€ê·¸ë˜í”„ë¡œ ì‹œê°í™”í•©ë‹ˆë‹¤.")  # ì•ˆë‚´ ë©”ì‹œì§€
    else:
        st.error("í•„ìš”í•œ ì»¬ëŸ¼(ì´ë¦„, ìˆ˜í•™, ì˜ì–´, ê³¼í•™)ì´ ëª¨ë‘ í¬í•¨ëœ íŒŒì¼ì„ ì—…ë¡œë“œí•˜ì„¸ìš”.")  # ì—ëŸ¬ ë©”ì‹œì§€
else:
    st.info("CSV íŒŒì¼ì„ ì—…ë¡œë“œí•˜ë©´ í•™ìƒë³„ ê³¼ëª© í‰ê· ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.")  #