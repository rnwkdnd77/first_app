import streamlit as st
import pandas as pd

st.title("ğŸ“Š í•™ìƒë³„ ê³¼ëª© ì ìˆ˜ ë¹„êµ ì‹œê°í™”")  # í˜ì´ì§€ ì œëª©

# íŒŒì¼ ì—…ë¡œë“œ ìœ„ì ¯
uploaded_file = st.file_uploader("í•™ìƒ ì„±ì  CSV íŒŒì¼ì„ ì—…ë¡œë“œí•˜ì„¸ìš”", type=["csv"])

if uploaded_file is not None:
    # CSV íŒŒì¼ì„ ë°ì´í„°í”„ë ˆì„ìœ¼ë¡œ ì½ê¸°
    df = pd.read_csv(uploaded_file)
    st.success("íŒŒì¼ ì—…ë¡œë“œ ì„±ê³µ!")  # ì„±ê³µ ë©”ì‹œì§€

    # ë°ì´í„°í”„ë ˆì„ ë¯¸ë¦¬ë³´ê¸°
    st.subheader("ë°ì´í„° ë¯¸ë¦¬ë³´ê¸°")
    st.dataframe(df)

    # í•„ìš”í•œ ì»¬ëŸ¼ í™•ì¸
    required_columns = {'ì´ë¦„', 'ìˆ˜í•™', 'ì˜ì–´', 'ê³¼í•™'}
    if required_columns.issubset(df.columns):
        st.subheader("í•™ìƒë³„ ê³¼ëª© ì ìˆ˜ ë¹„êµ")
        # í•™ìƒë³„ë¡œ ìˆ˜í•™, ì˜ì–´, ê³¼í•™ ì ìˆ˜ ì‹œê°í™” (ë§‰ëŒ€ê·¸ë˜í”„)
        st.bar_chart(df.set_index('ì´ë¦„')[['ìˆ˜í•™', 'ì˜ì–´', 'ê³¼í•™']])
        st.info("í•™ìƒë³„ë¡œ ìˆ˜í•™, ì˜ì–´, ê³¼í•™ ì ìˆ˜ë¥¼ ë§‰ëŒ€ê·¸ë˜í”„ë¡œ ë¹„êµí•©ë‹ˆë‹¤.")  # ì•ˆë‚´ ë©”ì‹œì§€

        st.subheader("ê³¼ëª©ë³„ í•™ìƒ ì ìˆ˜ ë¹„êµ")
        # ê³¼ëª©ë³„ë¡œ í•™ìƒ ì ìˆ˜ ì‹œê°í™” (ë¼ì¸ì°¨íŠ¸)
        for subject in ['ìˆ˜í•™', 'ì˜ì–´', 'ê³¼í•™']:
            st.line_chart(df.set_index('ì´ë¦„')[subject], use_container_width=True)
            st.caption(f"{subject} ì ìˆ˜ì˜ í•™ìƒë³„ ë¹„êµ (ë¼ì¸ì°¨íŠ¸)")  # ê° ê³¼ëª©ë³„ ì„¤ëª…
    else:
        st.error("í•„ìš”í•œ ì»¬ëŸ¼(ì´ë¦„, ìˆ˜í•™, ì˜ì–´, ê³¼í•™)ì´ ëª¨ë‘ í¬í•¨ëœ íŒŒì¼ì„ ì—…ë¡œë“œí•˜ì„¸ìš”.")  # ì—ëŸ¬ ë©”ì‹œì§€
else:
    st.info("CSV íŒŒì¼ì„ ì—…ë¡œë“œí•˜ë©´ í•™ìƒë³„, ê³¼ëª©ë³„ ì ìˆ˜ë¥¼ ë¹„êµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.")  #